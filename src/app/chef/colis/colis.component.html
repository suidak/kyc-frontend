<div class="card card-default">
  <div class="card-header" style="color: #ffffff;background-color: #615e58;">
    <i class="icon-drawer"></i>
    Liste demandes

    <div style=" float: right;">
      {{ 'ADMIN.AUJOURDHUI' | translate }}: <span id="ejs_heure" style="font-weight: bolder;"  ></span>
    </div>
  </div>

</div>


<div  class="main-content" >
  <div class="page-content">



    <div class="container-fluid">



      <div class="row" *ngIf="isListe">
        <div class="col-md-12">

          <div class='table-responsive'>
            <table id="example" class="table table-striped table-bordered" cellspacing="0" width="100%">
              <thead>
              <tr>


                <th>Date</th>
                <th>Banque</th>
                <th>Telephon</th>
                <th>Fax</th>
                <th>Email</th>

                <th>Action</th>
              </tr>
              </thead>
              <tfoot>
              <tr>

                <th>Date</th>
                <th>Banque</th>
                <th>Telephon</th>
                <th>Fax</th>
                <th>Email</th>


                <th></th>


              </tr>
              </tfoot>
              <tbody>
              <tr  *ngFor='let demande of demandes' >

                <td>{{ demande.dateCreation.slice( 0, 10 )}} </td>
                <td>{{ demande.identity}}</td>
                <td>{{ demande.tel}}</td>
                <td>{{ demande.fax}}</td>
                <td>{{ demande.email}}</td>


                <td>
                  <button type="button" class="green" (click)="openedEditDemande(demande)" >
                    <i class="ace-icon fa fa-pencil bigger-130"></i>
                  </button>

                </td>
              </tr>

              </tbody>
            </table>
          </div>


        </div>

      </div>






      <div class="row"  *ngIf="openeEditDemande" >

        <div class="col-md-12">
          <div class="row">
            <div class="col-lg-12">
              <div class="card">
                <div class="card-header">
                  <i class="fa fa-edit"></i>  Edit demande
                </div>
                <div class="card-block">


                  <div *ngIf="alertsSuccess">
                    <div  class="alert alert-success" role="alert" >
                      <strong> {{ alertsSuccessMsg }}</strong>
                    </div>
                    <button class="btn btn-prev" style="" (click)="actionAnnule();">
                      <i class="ace-icon fa fa-arrow-left"></i>
                      {{ 'ADMIN.Prev' | translate }}
                    </button>

                  </div>

                  <div *ngIf="alertsDanger" class="alert alert-danger" role="alert">
                    <strong> {{ alertsDangerMsg }}!</strong>
                  </div>




                  <div class="form-group row">
                    <div class="col-md-6" >
                      <div class="profile-user-info profile-user-info-striped">

                        <div class="profile-info-row">
                          <div class="profile-info-name">Identity</div>

                          <div class="profile-info-value">

                            {{demandeEdite.identity}}

                          </div>
                        </div>

                        <div class="profile-info-row">
                          <div class="profile-info-name"> Certificate of incorporation </div>

                          <div class="profile-info-value">

                            {{demandeEdite.certificate}}

                          </div>
                        </div>

                        <div class="profile-info-row">
                          <div class="profile-info-name">Licence </div>

                          <div class="profile-info-value">

                            {{demandeEdite.Licence}}
                          </div>
                        </div>

                        <div class="profile-info-row">
                          <div class="profile-info-name"> Adresse </div>

                          <div class="profile-info-value">

                            {{demandeEdite.Adresse}}

                          </div>
                        </div>

                        <div class="profile-info-row">
                          <div class="profile-info-name"> Téléphone </div>

                          <div class="profile-info-value">

                            {{demandeEdite.tel}}
                          </div>
                        </div>

                        <div class="profile-info-row">
                          <div class="profile-info-name"> Email </div>

                          <div class="profile-info-value">


                            {{demandeEdite.email}}

                          </div>
                        </div>

                        <div class="profile-info-row">
                          <div class="profile-info-name"> Fax </div>


                          <div class="profile-info-value">



                            {{demandeEdite.fax}}

                          </div>


                        </div>

                        <div class="profile-info-row">
                          <div class="profile-info-name"> Date de constitution </div>



                          <div class="profile-info-value">


                            {{demandeEdite.dateConstitution}}

                          </div>


                        </div>


                      </div>

                      <!-- /section:pages/profile.info -->


                    </div>

                    <div class="col-md-6">


                      <div class="profile-user-info profile-user-info-striped">


                        <div class="profile-info-row">
                          <div class="profile-info-name"> Certificate of incorporation </div>

                          <div class="profile-info-value">
                            {{demandeEdite.fileCertificate}}
                            <div *ngIf="demandeEdite.fileCertificate.slice( 19, 23 )=='jpg'||demandeEdite.fileCertificate.slice( 19, 23 )=='png'||demandeEdite.fileCertificate.slice( 19, 24 )=='jpeg'||demandeEdite.fileCertificate.slice( 19, 23 )=='gif'" >
                              <a href="http://file:///C:/Users/ThinkPad/Desktop/code4chainge/banques/{{demandeEdite.fileCertificate}}" Target="_blank">
                                <img  src="/assets/public/messages/icone/image.png" style="width: 50px;" />
                              </a>
                            </div>
                            <div *ngIf="demandeEdite.fileCertificate.slice( 19, 23 )=='pdf'">
                              <a href="/assets/public/procedure/{{demandeEdite.fileCertificate}}" Target="_blank">
                                <img  src="/assets/public/messages/icone/pdf.png" style="width: 100%;"/>
                              </a>
                            </div>
                            <div *ngIf="demandeEdite.fileCertificate.slice( 19, 23 )=='doc'||demandeEdite.fileCertificate.slice( 19, 24 )=='docx'">
                              <a href="C:/Users/ThinkPad/Desktop/code4chainge/banques/{{demandeEdite.fileCertificate}}" Target="_blank">
                                <img  src="/assets/public/messages/icone/word.png" style="width: 100%;" />
                              </a>
                            </div>
                            <div *ngIf="demandeEdite.fileCertificate.slice( 19, 23 )=='zip'||demandeEdite.fileCertificate.slice( 19, 23 )=='rar'||demandeEdite.fileCertificate.slice( 19, 24 )=='7zip'||demandeEdite.fileCertificate.slice( 19, 22 )=='tg'">
                              <a href="C:/Users/ThinkPad/Desktop/code4chainge/banques/{{demandeEdite.fileCertificate}}" Target="_blank">
                                <img  src="/assets/public/messages/icone/zip.jpg" style="width: 100%;" />
                              </a>
                            </div>

                          </div>
                        </div>

                        <div class="profile-info-row">
                          <div class="profile-info-name"> Articles of association </div>

                          <div class="profile-info-value">

                            {{demandeEdite.fileArticles}}



                          </div>
                        </div>

                        <div class="profile-info-row">
                          <div class="profile-info-name"> Latest published financials </div>


                          <div class="profile-info-value">
                            {{demandeEdite.fileFinancials}}

                          </div>


                        </div>

                        <div class="profile-info-row">
                          <div class="profile-info-name">Shareholders list </div>


                          <div class="profile-info-value">

                            {{demandeEdite.fileHareholders}}

                          </div>


                        </div>

                        <div class="profile-info-row">
                          <div class="profile-info-name">Licence</div>

                          <div class="profile-info-value">

                            {{demandeEdite.fileLicence}}

                          </div>
                        </div>


                      </div>

                    </div>

                  </div>

                  <div class="col-xl-12"  style="text-align: right;">
                    <button class="btn btn-prev" (click)="actionAnnule();">
                      <i class="ace-icon fa fa-arrow-left"></i>
                      {{ 'ADMIN.Annule' | translate }}
                    </button>
                    <button class="btn btn-success" (click)="actionValider(demandeEdite);" ><i class="fa fa-floppy-o"></i>
                      Valider
                    </button>
                  </div>






                </div>

              </div>


            </div>
          </div>

        </div>

      </div>





      <hr>

    </div>

  </div>
</div>
