<div class="card card-default">
  <div class="card-header" style="color: #ffffff;background-color: #615e58;">
    <i class="icon-settings"></i>
    liste demande compte

    <div style=" float: right;">
      {{ 'ADMIN.AUJOURDHUI' | translate }}: <span id="ejs_heure" style="font-weight: bolder;"  ></span>
    </div>
  </div>

</div>

<div  class="main-content" >
  <div class="page-content">



<div class="container-fluid">


  <div class="row" *ngIf="isListe">
    <div class="col-md-12">

      <div class='table-responsive'>
        <table id="example" class="table table-striped table-bordered" cellspacing="0" width="100%">
          <thead>
          <tr>

            <th class="text-center"><i class="icon-people"></i></th>

            <th>{{ 'ADMIN.Nom' | translate }}</th>
            <th>{{ 'ADMIN.Prenom' | translate }}</th>
            <th><i>@</i>{{ 'ADMIN.Email' | translate }}</th>
            <th>{{ 'ADMIN.Telephone' | translate }}</th>
            <th>{{ 'ADMIN.Type' | translate }}</th>
            <th>{{ 'ADMIN.Etat' | translate }}</th>
            <th>{{ 'ADMIN.Action' | translate }}</th>
          </tr>
          </thead>
          <tfoot>
          <tr>
            <th></th>

            <th>{{ 'ADMIN.Nom' | translate }}</th>
            <th>{{ 'ADMIN.Prenom' | translate }}</th>
            <th>{{ 'ADMIN.Email' | translate }}</th>
            <th>{{ 'ADMIN.Telephone' | translate }}</th>
            <th>{{ 'ADMIN.Type' | translate }}</th>
            <th>{{ 'ADMIN.Etat' | translate }}</th>
            <th ></th>


          </tr>
          </tfoot>
          <tbody>
          <tr  *ngFor='let use of users' >
            <td class="text-center">
              <div class="avatar">
                <img  class="img-avatar"  src="/assets/public/avatar/{{use.photo}}" *ngIf="use.photo">
                <img  class="img-avatar"  src="/assets/public/avatar/avatar.png" *ngIf="!use.photo">
                <span class="avatar-status badge-success"></span>
              </div>
            </td>


            <td>{{ use.nom}}</td>
            <td>{{ use.prenom}}</td>
            <td>{{ use.mail}}</td>
            <td>{{ use.tel}}</td>
            <td>{{ use.type}}</td>
            <td>
              {{ use.etat}}

            </td>

            <td>



              <button type="button" class="red" (click)="openedEditUser(use)">
                <span class="red"><i class="ace-icon fa fa-trash-o bigger-120"></i></span>
              </button>

              <button type="button" class="blue" (click)="openedInfoUser(use);myModal.open();" >
                <i class="ace-icon fa fa-search-plus bigger-130"></i>
              </button>


            </td>
          </tr>

          </tbody>
        </table>
      </div>


    </div>

  </div>


  <modal #myModal modalClass="modal-lg" >
  <modal-header>
    <h1 *ngIf="user">Info user {{ user.nom}} </h1>
  </modal-header>
  <modal-content>

    <div class="form-group row" *ngIf="user">
      <div class="col-md-6">
        <div class="profile-user-info profile-user-info-striped">

          <div class="profile-info-row">
            <div class="profile-info-name">{{ 'ADMIN.Photo' | translate }} </div>

            <div class="profile-info-value">
              <span class="editable" id="Photo" >


                 <img style="max-width: 300px;" id="avatar" class="editable img-responsive" alt="{{ user.mail}}" src="/assets/public/avatar/{{user.photo}}" *ngIf="user.photo" />
                 <img id="avatar" class="editable img-responsive" alt="{{ user.mail}}" src="/assets/public/avatar/avatar.png" *ngIf="!user.photo">

              </span>
            </div>
          </div>
          <div class="profile-info-row">
            <div class="profile-info-name">{{ 'ADMIN.CodeBar' | translate }} </div>

            <div class="profile-info-value">

              <a target="_blank" href="/assets/public/codeBar/{{user.photoCodeBar}}" *ngIf="user.photoCodeBar64">
                <img src="{{user.photoCodeBar64}}"   />
              </a>


            </div>
          </div>

          <div class="profile-info-row">
            <div class="profile-info-name">{{ 'ADMIN.CodeBar' | translate }} </div>

            <div class="profile-info-value">
              <span *ngIf="user.codeBar">{{user.codeBar}}</span>




            </div>
          </div>


        </div>

        <!-- /section:pages/profile.info -->


      </div>
      <div class="col-md-6">


        <div class="profile-user-info profile-user-info-striped">

          <div class="profile-info-row">
            <div class="profile-info-name">Login </div>

            <div class="profile-info-value">
              <span class="editable" id="username">{{ user.login}}</span>
            </div>
          </div>
          <div class="profile-info-row">
            <div class="profile-info-name">{{ 'ADMIN.Nom' | translate }} </div>

            <div class="profile-info-value">
              <span class="editable" id="nom">{{ user.nom}}</span>
            </div>
          </div>
          <div class="profile-info-row">
            <div class="profile-info-name">{{ 'ADMIN.Prenom' | translate }}  </div>

            <div class="profile-info-value">
              <span class="editable" id="prenom">{{ user.prenom}}</span>
            </div>
          </div>
          <div class="profile-info-row">
            <div class="profile-info-name">{{ 'ADMIN.Email' | translate }}  </div>

            <div class="profile-info-value">
              <span class="editable" id="mail">{{ user.mail}}</span>
            </div>
          </div>
          <div class="profile-info-row">
            <div class="profile-info-name">{{ 'ADMIN.Telephone' | translate }} </div>

            <div class="profile-info-value">
              <span class="editable" id="tel">{{ user.tel}}</span>
            </div>
          </div>
          <div class="profile-info-row">
            <div class="profile-info-name"> {{ 'ADMIN.CodePostal' | translate }}</div>

            <div class="profile-info-value">
              <span class="editable" id="codePostal">{{ user.codePostal}}</span>
            </div>
          </div>
          <div class="profile-info-row">
            <div class="profile-info-name"> {{ 'ADMIN.Pays' | translate }}</div>

            <div class="profile-info-value">
              <span class="editable" id="pays">{{ user.pays}}</span>
            </div>
          </div>
          <div class="profile-info-row">
            <div class="profile-info-name">dateModifPassword </div>

            <div class="profile-info-value">
              <span class="editable" id="dateModifPassword">{{ user.dateModifPassword}}</span>
            </div>
          </div>
          <div class="profile-info-row">
            <div class="profile-info-name">{{ 'ADMIN.Pays' | translate }} </div>

            <div class="profile-info-value">
              <span class="editable" id="dateCreation">{{ user.dateCreation}}</span>
            </div>
          </div>
          <div class="profile-info-row">
            <div class="profile-info-name"> {{ 'ADMIN.Type' | translate }} </div>

            <div class="profile-info-value">
              <span class="editable" id="typeUser">{{ user.typeUser}}</span>
            </div>
          </div>

          <div class="profile-info-row">
            <div class="profile-info-name"> {{ 'ADMIN.Datenaissence' | translate }} </div>

            <div class="profile-info-value">
              <span class="editable" id="datenaissence">{{ user.datenaissence}}</span>
            </div>
          </div>

          <div class="profile-info-row">
            <div class="profile-info-name">{{ 'ADMIN.Adresse' | translate }} </div>

            <div class="profile-info-value">
              <span class="editable" id="adresse">{{ user.adresse}}</span>
            </div>
          </div>

          <div class="profile-info-row">
            <div class="profile-info-name">{{ 'ADMIN.Ville' | translate }}</div>

            <div class="profile-info-value">
              <span class="editable" id="ville">{{ user.ville}}</span>
            </div>
          </div>
          <div class="profile-info-row">
            <div class="profile-info-name"> {{ 'ADMIN.Etat' | translate }}</div>

            <div class="profile-info-value">
              <span class="editable" id="etat">{{ user.etat}}</span>
            </div>
          </div>


        </div>



      </div>

    </div>


  </modal-content>
  <modal-footer>
    <button class="btn btn-primary" (click)="myModal.close()">{{ 'ADMIN.Close' | translate }}</button>
  </modal-footer>
</modal>

  <div class="row"  *ngIf="openeEditUser" >


    <div class="col-md-12">
      <div class="row">
        <div class="col-lg-12">
          <div class="card">
            <div class="card-header">
              <i class="fa fa-edit"></i>  {{ 'ADMIN.AJOUTERUNAGENT' | translate }}
            </div>
            <div class="card-block">


              <div *ngIf="alertsSuccess">
                <div  class="alert alert-success" role="alert" >
                  <strong> {{ alertsSuccessMsg }}</strong>
                </div>
                <div class="col-xl-12" style="text-align: right;">

                  <button class="btn  btn-success" type="submit" (click)=" actionAnnule();"><i class="fa fa-floppy-o"></i>
                    {{ 'ADMIN.Enregistrer' | translate }}
                  </button>
                </div>

              </div>

              <div *ngIf="alertsDanger" class="alert alert-danger" role="alert">
                <strong> {{ alertsDangerMsg }}!</strong>
              </div>




                <div class="form-group row">
                  <div class="col-md-6" >
                    <!-- #section:pages/profile.info -->


                    <div class="profile-user-info profile-user-info-striped">

                      <div class="profile-info-row">
                        <div class="profile-info-name">Name </div>

                        <div class="profile-info-value">

                          {{userModif.nom}}



                        </div>
                      </div>

                      <div class="profile-info-row">
                        <div class="profile-info-name"> First name</div>

                        <div class="profile-info-value">


                          {{userModif.prenom}}
                        </div>
                      </div>

                      <div class="profile-info-row">
                        <div class="profile-info-name">Identity</div>



                        <div class="profile-info-value">
                          {{userModif.typeIdentite}}


                        </div>
                      </div>

                      <div class="profile-info-row">
                        <div class="profile-info-name"> Numéro</div>

                        <div class="profile-info-value">

                          {{userModif.numIdentite}}


                        </div>
                      </div>

                      <div class="profile-info-row">
                        <div class="profile-info-name"> Email </div>

                        <div class="profile-info-value">

                          {{userModif.mail}}



                        </div>
                      </div>

                      <div class="profile-info-row">
                        <div class="profile-info-name"> phone</div>

                        <div class="profile-info-value">

                          {{userModif.tel}}


                        </div>
                      </div>

                      <div class="profile-info-row">
                        <div class="profile-info-name">Birth Date  </div>

                        <div class="profile-info-value">

                          {{userModif.date}}



                        </div>
                      </div>

                    </div>

                  </div>
                  <div class="col-md-6">


                    <div class="profile-user-info profile-user-info-striped">




                      <div class="profile-info-row">
                        <div class="profile-info-name">Country </div>

                        <div class="profile-info-value">

                          {{userModif.pays}}



                        </div>
                      </div>

                      <div class="profile-info-row">
                        <div class="profile-info-name">Adress </div>

                        <div class="profile-info-value">

                          {{userModif.adresse}}



                        </div>
                      </div>

                      <div class="profile-info-row">
                        <div class="profile-info-name">Nationality </div>

                        <div class="profile-info-value">

                          {{userModif.pays}}



                        </div>
                      </div>

                      <div class="profile-info-row">
                        <div class="profile-info-name">TAX Residence</div>

                        <div class="profile-info-value">

                          {{userModif.residenceFiscale}}



                        </div>
                      </div>

                      <div class="profile-info-row">
                        <div class="profile-info-name">PPE</div>

                        <div class="profile-info-value">

                          {{userModif.PPE}}




                        </div>
                      </div>


                      <div class="profile-info-row">
                        <div class="profile-info-name">US person</div>

                        <div class="profile-info-value">

                          {{userModif.FATCA}}



                        </div>
                      </div>




                    </div>



                  </div>

                </div>


                <div class="col-xl-12" style="text-align: right;">
                  <button class="btn btn-prev" (click)="prevEtap()">
                    <i class="ace-icon fa fa-arrow-left"></i>
                    {{ 'ADMIN.Prev' | translate }}

                  </button>
                  <button class="btn  btn-success" (click)="valideCompte(userModif)" ><i class="fa fa-floppy-o"></i>
                   Valider
                  </button>
                </div>



            </div>

          </div>


        </div>
      </div>

    </div>











  </div>





</div>

</div>
</div>
